# Kubernetes Cluster Clash — Правила

## Тематика и цель
Вы — инженер платформенной команды, который стремится запустить самый устойчивый Kubernetes-кластер в конкурентной среде. Собирайте ресурсы, разворачивайте инфраструктуру, запускайте рабочие нагрузки и устраивайте саботаж соседям с помощью сбоев, эксплойтов и секвестров бюджета. Первый игрок, достигший заявленных SLO (Service Level Objectives) и удержавший кластер в живом состоянии, побеждает — если только его система не рухнет раньше.

## Компоненты
- 90 карт основного набора (см. `cards/card_list.csv`).
- 4 планшета игрока (используйте `playmats/player_cluster_aid.md`).
- 60 жетонов ресурсов (универсальная валюта: CPU/память/бюджет).
- 12 кубиков стабильности (отслеживают «Устойчивость» кластера).
- 20 маркеров инцидентов.
- 1 маркер первого игрока.
- Правила и памятка.

> Прототип: замените жетоны фишками или монетами, кубики — любыми маркерами.

## Глоссарий
- **Планшет кластера**: персональная зона, где лежат Ноды, Контрольный план, Рабочие нагрузки и поддерживающие карты.
- **Трек SLO**: масштаб на планшете игрока; достижение 12 очков SLO приносит победу.
- **Инцидент**: отрицательный маркер, который кладут карты-Атаки; действует, пока не устранён.
- **Устойчивость**: «здоровье» вашего кластера. Если показатель уходит в минус, игрок выбывает.

## Подготовка к игре
1. Перемешайте колоду и сдайте каждому игроку по 5 карт.
2. Каждый получает планшет кластера, 5 жетонов ресурсов и 3 кубика устойчивости, установленные на значении 6.
3. Остальные жетоны и кубики сформируйте в общий запас.
4. Случайно определите первого игрока и выдайте ему маркер.
5. Откройте 3 верхние карты колоды — это рынок **Общего пула**. В конце каждого хода восполняйте его до трёх карт.

## Ход игрока
Игра идёт по часовой стрелке. Во время своего хода игрок проходит этапы в порядке:

1. **Обновление**
   - По желанию снимите 1 маркер инцидента с любой собственной карты.
   - Доберите карты до 5 на руке.
   - Получите из запаса 2 жетона ресурсов.

2. **Планирование (по желанию)**
   - Сбросьте любое количество карт, получив за каждую +1 ресурс.

3. **Развёртывание**
   - Разыгрывайте карты с руки, оплачивая их стоимость ресурсами.
   - Можно покупать карты с рынка Общего пула: оплатите стоимость, возьмите карту в руку и продолжайте фазу.
   - Карты инфраструктуры (Ноды, Контрольный план, Хранилище, Сеть) выкладываются на планшет.
   - Автоматизация и Улучшения дают постоянные эффекты.
   - Рабочие нагрузки кладутся в зону нагрузок и добавляют очки SLO.

4. **Инциденты**
   - Разрешите эффекты маркеров инцидентов на своих картах. Обычно они снижают Устойчивость или блокируют способности.

5. **Саботаж (по желанию)**
   - Можете сыграть 1 карту Атаки на другого игрока, чья Устойчивость выше 0. Оплатите стоимость, примените эффект и разместите маркеры инцидентов, если указано.

6. **Стабилизация**
   - Оплатите стоимость ремонта, чтобы снять инциденты с карт.
   - Проверьте сумму SLO. Достигнув 12+ очков (15 в дуэли) и сохранив положительную Устойчивость, объявите о победе в конце раунда.
   - Если Устойчивость упала ниже 0, ваш кластер рухнул. Сбросьте руку, переверните планшет и выбывайте из партии.

7. **Завершение**
   - Сбросьте карты до лимита в 7.
   - Восполните рынок Общего пула до трёх карт.

## Типы карт

| Тип карты        | Зона              | Типичные эффекты                                        |
|------------------|-------------------|---------------------------------------------------------|
| Нода             | Инфраструктура    | Даёт вместимость, повышает базовую Устойчивость.       |
| Контрольный план | Инфраструктура    | Открывает доступ к сложным картам и набору SLO.         |
| Хранилище        | Инфраструктура    | Поддержка стейтфул-нагрузок, бонусы к их очкам.         |
| Сеть             | Инфраструктура    | Повышает защиту от атак и расширяет рынок.              |
| Нагрузка         | Зона нагрузок     | Добавляет очки SLO и может иметь постоянные эффекты.   |
| Автоматизация    | Планшет кластера  | Даёт постоянные бонусы и скидки.                        |
| Улучшение        | Планшет кластера  | Разовые усиления, защита, дополнительные очки.          |
| Атака            | Планшет соперника | Создаёт инциденты, ворует ресурсы, снижает SLO.         |
| Ответ            | Сброс             | Отменяет атаки или смягчает их последствия.             |

## Постройка кластера
- Требуется минимум **1 Контрольный план** и **2 Ноды**, чтобы разыгрывать Нагрузки.
- Каждая Нода увеличивает максимум Устойчивости на 2 (переместите кубик).
- Первая разыгранная карта Контрольного плана позволяет добрать карту.
- Нагрузки добавляют очки SLO, показанные на карте. Отслеживайте их на планшете.
- Некоторые карты имеют **Требования** (например, «Требуется Сеть»). Их нужно выполнить до розыгрыша.

## Атака и защита
- Карты-Атаки указывают цель и эффект. Разместите маркеры инцидентов на целевой карте или планшете, как описано.
- На каждой карте может лежать несколько инцидентов. Каждый инцидент на Ноде уменьшает Устойчивость на 1 во время фазы инцидентов.
- Карты-Ответы разыгрываются немедленно, после чего сбрасываются.
- Во время Стабилизации можно платить стоимость ремонта и снимать маркеры. Некоторые карты имеют индивидуальные цены.

## Победа в игре
- В конце раунда, в котором игрок набрал 12+ очков SLO и сохранил положительную Устойчивость, он побеждает.
- Если все соперники выбыли, оставшийся игрок выигрывает автоматически.
- В партии на двоих для победы требуется 15 очков SLO, чтобы дуэль была более напряжённой.

## Соло и кооперативный режим
- Каждый раунд открывайте верхнюю карту колоды для виртуального атакующего **Chaos Monkey**.
- Если карта — Атака, потревоженный игрок получает эффект; иначе карта сбрасывается без действий.
- В одиночной игре нужно набрать 15 очков SLO до того, как Устойчивость упадёт до 0.

## Заметки дизайнера
- Игроки должны постоянно выбирать между ростом инфраструктуры и саботажем соседей.
- Поощряйте сделками и переговорами временное перемирие и обмен ресурсами.
- Сокращайте время простоя: избегайте сложных обязательных триггеров.
